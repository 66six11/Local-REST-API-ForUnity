# IFLOW 上下文文档

## 项目概述

这是一个专为Unity编辑器环境设计的本地REST API服务框架。它允许开发者通过简单的属性标记方式，将工具中的方法暴露给外部服务调用，特别适用于与AI代理（如MCP协议）或其他外部工具进行交互。

### 核心功能

1. **访问令牌认证** - 提供安全的API访问控制
2. **基于属性反射的API自动生成** - 通过在方法上添加特定属性，自动将方法暴露为API端点
3. **接口文档自动生成** - 自动生成API文档便于外部调用者理解
4. **接口访问日志记录** - 记录所有API调用详情用于审计和调试
5. **接口列表可视化** - 提供图形界面展示所有已注册的API端点
6. **接口测试工具** - 内置API测试工具便于开发调试
7. **接口性能监控** - 监控API响应时间和资源消耗
8. **接口错误日志记录** - 记录API调用过程中的错误信息

### 使用场景

1. 外部AI代理通过MCP协议调用Unity工具暴露的API接口
2. 自研工具需要暴露API接口供其他系统或工具调用

## 项目结构

```
LocalRestAPI/
├── Editor/              # Unity编辑器脚本目录
├── README.md           # 项目说明文档
└── IFLOW.md            # 本上下文文档
```

## 开发约定

### API实现方式

API方法通过在Unity编辑器脚本中添加特定属性来实现自动注册。开发者只需在希望暴露的方法上添加相应属性，框架会自动处理路由注册、参数解析和结果返回。

### 认证机制

使用访问令牌进行API认证，确保只有授权的外部服务可以调用API接口。

### 日志记录

所有API调用都会被记录，包括请求参数、响应结果和执行时间，便于调试和监控。

### 性能监控

内置性能监控功能，可以查看各个API端点的响应时间和调用频率，帮助优化系统性能。

## 开发环境

- Unity编辑器环境
- C#编程语言
- .NET Framework/.NET Core运行时

## 使用说明

1. 在Unity编辑器中实现需要暴露的工具方法
2. 为方法添加特定属性标记以注册为API端点
3. 启动本地API服务
4. 外部服务通过HTTP请求调用注册的API端点